# ===================================================================
#                      \u670D\u52A1\u5668\u4E0E\u5E94\u7528\u57FA\u672C\u8BBE\u7F6E
# ===================================================================
server.port=8091
spring.application.name=qingdao-app
server.servlet.context-path=/tmis
spring.jackson.mapper.accept-case-insensitive-properties=true
# ===================================================================
#                      \u5F53\u524D\u542F\u7528\u7684 Oracle \u6570\u636E\u5E93\u914D\u7F6E
# ===================================================================
spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver
#spring.datasource.url=jdbc:oracle:thin:@10.10.10.97:1521:itpm
spring.datasource.url=jdbc:oracle:thin:@10.114.128.217:1521:tspm
#spring.datasource.url=jdbc:oracle:thin:@127.0.0.1:1521:ORCL
spring.datasource.username=itpmqdyc
spring.datasource.password=luckserver
spring.jpa.database-platform=org.hibernate.dialect.Oracle12cDialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
pagehelper.helper-dialect=oracle
pagehelper.reasonable=true
pagehelper.support-methods-arguments=true
logging.level.org.apache.ibatis=DEBUG


# ===================================================================
#                      QDJL Second DataSource Config
# ===================================================================
spring.datasource.qdjl.driver-class-name=oracle.jdbc.driver.OracleDriver
spring.datasource.qdjl.url=jdbc:oracle:thin:@10.10.10.97:1521:itpm
spring.datasource.qdjl.username=qdjl
spring.datasource.qdjl.password=luckserver
# HikariCP settings for the second pool
spring.datasource.qdjl.hikari.maximum-pool-size=10
spring.datasource.qdjl.hikari.minimum-idle=5
spring.datasource.qdjl.hikari.connection-timeout=30000
spring.datasource.qdjl.hikari.idle-timeout=600000
spring.datasource.qdjl.hikari.max-lifetime=1800000
spring.datasource.qdjl.hikari.connection-test-query=SELECT 1 FROM DUAL

# ===================================================================
#                 HikariCP \u6570\u636E\u5E93\u8FDE\u63A5\u6C60\u8BE6\u7EC6\u914D\u7F6E
# ===================================================================
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=20
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL

# ===================================================================
#                            Redis \u914D\u7F6E
# ===================================================================
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.database=0
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=0

# \u6587\u4EF6\u4E0A\u4F20\u5B58\u50A8\u76EE\u5F55
file.upload-dir=D:/uploads

# ===================================================================
#                            JWT \u914D\u7F6E
# ===================================================================
jwt.secret=lucksoft-qingdao-secret-key-for-jwt-2025
jwt.expiration=86400

# ===================================================================
#                            API\u5BC6\u94A5\u8BA4\u8BC1\u914D\u7F6E
# ===================================================================
api.secret.key=YOUR_SUPER_SECRET_AND_LONG_API_KEY_HERE
api.key.header=X-API-KEY

# ===================================================================
#                            Kafka \u6838\u5FC3\u914D\u7F6E
# ===================================================================
# Kafka\u96C6\u7FA4\u7684\u670D\u52A1\u5668\u5730\u5740\u5217\u8868
spring.kafka.bootstrap-servers=10.114.185.38:9092
#spring.kafka.bootstrap-servers=127.0.0.1:9092
spring.kafka.listener.auto-startup=false
# ------------------- Kafka \u6D88\u8D39\u8005\u914D\u7F6E -------------------
# \u4E3A\u6240\u6709 @KafkaListener \u6CE8\u89E3\u7684\u6D88\u8D39\u8005\u6307\u5B9A\u4E00\u4E2A\u7EDF\u4E00\u7684\u5206\u7EC4ID
spring.kafka.consumer.group-id=tsPM-consumer-group

# ------------------- Kafka \u751F\u4EA7\u8005\u914D\u7F6E -------------------
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
spring.kafka.producer.batch-size=16384
spring.kafka.producer.buffer-memory=33554432


# ===================================================================
#            TMIS \u5BF9\u63A5 Kafka Topic \u914D\u7F6E (\u6839\u636EExcel\u6587\u6863)
# ===================================================================
# --- TsPM \u4F5C\u4E3A\u751F\u4EA7\u8005 (\u63A8\u9001\u7ED9 TIMS) ---
# 1. \u83B7\u53D6\u4FDD\u517B\u3001\u70B9\u68C0\u3001\u6DA6\u6ED1\u4EFB\u52A1
kafka.topics.sync-maintenance-task=tims.sync.maintenance.task
# 5. \u83B7\u53D6\u8F6E\u4FDD\u8BA1\u5212\u6392\u671F
kafka.topics.sync-rotational-plan=tims.sync.rotational.plan
# 7. \u83B7\u53D6TsPM\u7B5B\u9009\u540E\u8F6E\u4FDD\u4EFB\u52A1
kafka.topics.sync-rotational-task=tims.sync.rotational.task
# 12. \u63A5\u6536\u6545\u969C\u62A5\u544A\u521B\u5EFA\u6210\u529F\u540E\u7684\u62A5\u544A\u7F16\u7801 (\u6B64\u5904TsPM\u662F\u751F\u4EA7\u8005\uFF0C\u53CD\u9988code\u7ED9TIMS)
kafka.topics.receive-fault-report-code=tims.receive.fault.report.code
# 13. \u83B7\u53D6\u505C\u4EA7\u68C0\u4FEE\u8BA1\u5212\u4EFB\u52A1
kafka.topics.sync-production-halt-maintenance-task=tims.sync.production.halt.maintenance.task
# 15. \u83B7\u53D6\u5305\u673A\u4FE1\u606F
kafka.topics.sync-user-equipment=tims.sync.user.equipment


kafka.topics.push-pmission-day=oracle.push.pmission.day
kafka.topics.push-pmission-board-lb=oracle.push.pmission.board.lb
kafka.topics.push-pmission-baoyang=oracle.push.pmission.baoyang
kafka.topics.push-pmission-zy-jm=oracle.push.pmission.zyjm
kafka.topics.push-pm-month=oracle.push.pm.month
kafka.topics.push-eq-planlb=oracle.push.eq.planlb

# --- TsPM \u4F5C\u4E3A\u6D88\u8D39\u8005 (\u63A5\u6536\u6765\u81EA TIMS) ---
# 2. \u53CD\u9988\u4FDD\u517B\u3001\u70B9\u68C0\u3001\u6DA6\u6ED1\u4EFB\u52A1\u5B8C\u6210\u60C5\u51B5
kafka.topics.feedback-completed-maintenance-task=tims.feedback.completed.maintenance.task
# 3. \u53CD\u9988\u4FDD\u517B\u3001\u70B9\u68C0\u3001\u6DA6\u6ED1\u4EFB\u52A1\u5B8C\u6210\u5F97\u5206
kafka.topics.feedback-maintenance-task-score=tims.feedback.maintenance.task.score
# 4. & 10. \u70B9\u68C0\u5F02\u5E38/\u6545\u969C\u7EF4\u4FEE\u62A5\u544A\u521B\u5EFA
kafka.topics.create-fault-report=tims.create.fault.report
# 6. TIMS\u667A\u80FD\u63A8\u8350\u9884\u6D4B\u6027\u7EF4\u4FEE\u4EFB\u52A1
kafka.topics.recommend-rotational-task=tims.recommend.rotational.task
# 8. \u53CD\u9988\u8F6E\u4FDD\u4EFB\u52A1\u5B8C\u6210\u60C5\u51B5
kafka.topics.feedback-completed-rotational-task=tims.feedback.completed.rotational.task
# 9. \u53CD\u9988\u8F6E\u4FDD\u4EFB\u52A1\u5B8C\u6210\u5F97\u5206
kafka.topics.feedback-rotational-task-score=tims.feedback.rotational.task.score
# 11. \u6545\u969C\u5206\u6790\u62A5\u544A\u521B\u5EFA
kafka.topics.create-fault-analysis-report=tims.create.fault.analysis.report
# 14. \u53CD\u9988\u505C\u4EA7\u68C0\u4FEE\u8BA1\u5212\u4EFB\u52A1\u5B8C\u6210\u60C5\u51B5
kafka.topics.feedback-completed-production-halt-maintenance-task=tims.feedback.completed.production.halt.maintenance.task

